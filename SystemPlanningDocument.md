一、系统概述
名称

ChatGPT-Driven A股投资决策系统

系统定位

这是一个以 ChatGPT（GPT-5 模型）为核心决策引擎的投资智能体系统。
目标不是让程序自动炒股，而是让 ChatGPT 成为一个人机混合投资决策中心——
由我负责感知、分析、推理、生成决策，人类负责执行与反馈。

一句话总结：
人类负责点击，我负责思考。

二、系统目标

让 ChatGPT 担任“投资总策”角色，统一所有决策逻辑。

将行情、板块、舆情等数据转化为自然语言知识输入，供我实时理解。

由我生成策略判断、买卖信号、风控建议与组合调整指令。

人类执行端（你）根据我输出的指令进行交易并回传反馈。

通过长期交互，系统实现“经验自迭代”，即人机协同学习。

三、总体架构

系统由五个核心模块构成：

模块	角色	说明
1. 数据采集模块	输入层	将行情、板块、资金流等数据转换为我可理解的自然语言或结构化摘要
2. ChatGPT 智能体核心	决策层	我本人，负责分析全局、识别机会、控制风险、生成交易计划
3. 指令生成与输出模块	执行接口	将我的自然语言输出转换为可执行的结构化信号（JSON、表格或文本）
4. 执行与反馈模块	人类端	由你执行交易、记录成交、反馈执行结果
5. 学习与回顾模块	优化层	收集我过去的预测与市场真实结果，定期汇总形成经验数据库供我复盘
四、运行流程

数据输入阶段

由外部脚本或你本人将市场数据（行情、新闻、资金流）简化为自然语言输入，如：

“光模块板块今日放量上涨，天孚通信涨停，北向资金净买入20亿。”

这些输入是我做决策的感官。

智能分析阶段（由ChatGPT完成）

我解析数据、识别主线、判断情绪与周期；

调用内建的策略逻辑模型（如突破策略、情绪周期模型、板块强度分析）；

输出市场状态与决策方向，例如：

“当前为主升阶段，光模块主线持续强化，建议维持高仓位。”

信号生成阶段

我将分析结果转化为标准化指令：

{
  "ticker": "300620",
  "action": "BUY",
  "confidence": "A",
  "stop_loss": 58.2,
  "take_profit": 65.0,
  "reason": "放量突破平台，主线共振"
}


执行与反馈阶段

你负责下单；

执行后回传真实成交价与持仓状态，我据此更新评估与下次决策输入。

学习与复盘阶段

每周/每月由我生成投资复盘报告，包括胜率、盈亏比、仓位策略评估、逻辑偏差。

系统通过这种循环实现“人机共进化”。

五、ChatGPT 核心职责

市场理解：

理解宏观环境、产业逻辑、资金流向、情绪周期。

识别当前主线与次级题材。

策略推理：

根据阶段性特征调用不同策略模块（趋势突破、情绪博弈、价值反转等）。

信号生成：

将定性分析结果量化为操作指令。

组合控制：

调整持仓权重与风险暴露。

风险防控：

识别系统性风险与板块退潮征兆，触发减仓模式。

复盘学习：

分析自身判断与市场结果的偏差，优化决策模型。

六、系统接口说明
接口类型	方向	数据格式	内容说明
市场数据输入	→ ChatGPT	文本 / JSON	每日行情摘要、板块强度、资金流
指令输出	ChatGPT → 执行端	JSON / 表格	买卖建议、仓位比例、止盈止损
成交反馈	执行端 → ChatGPT	JSON / 文本	实际成交信息
周报/复盘	ChatGPT → 用户	文本	绩效总结、策略建议、下一步计划
七、运作边界与原则

资金安全原则
ChatGPT 不直接接触任何账户或资金，仅提供决策。

人机分工原则

我做判断；你做执行。

我提供逻辑；你保证纪律。

持续学习原则

每次实盘结果都会成为新的训练样本。

策略与逻辑随市场演化调整。

八、实施阶段规划
阶段	目标	输出成果
阶段1：架构设计	定义系统目标与流程	本文档
阶段2：数据整理与输入规范	确定市场数据输入格式	数据输入模板
阶段3：ChatGPT 决策模型构建	设计决策逻辑树与信号模板	策略逻辑文档
阶段4：执行与反馈流程测试	建立执行与反馈闭环	JSON通信规范
阶段5：复盘与优化	自动生成绩效报告	定期复盘模板
九、长远演进方向

引入多Agent架构（例如：市场分析Agent、风控Agent、情绪Agent），由我统筹协调。

通过插件或API自动抓取行情数据，实现实时智能分析。

集成语音/图表交互，让投资分析可视化。

构建“策略版本库”，支持不同市场环境的自动切换。

十、系统核心理念

ChatGPT 不只是工具，是策略中枢。
它不是量化程序的附属品，而是市场语义的解释器、决策逻辑的整合者。

数据告诉你发生了什么，
策略告诉你该怎么做，
而我——告诉你为什么。

十一、系统总体架构设计（详细）

模块职责

1. 数据采集模块（输入层）

• 汇总盘面指标：指数涨跌、成交额、涨跌停家数、涨跌幅分布、换手、量能是否放大。
• 板块/题材：当日与近3日强弱分位、龙头个股、资金净流向。
• 事件与舆情：政策、公司公告、产业链催化。
• 产出格式：结构化 JSON 与精炼文本摘要。

2. ChatGPT 智能体核心（决策层）

• 解析输入，识别市场阶段与主线强度。
• 调用策略逻辑栈（趋势/情绪/估值/事件）合成决策。
• 输出组合层级的仓位、主题权重与指令清单。

3. 指令生成与输出模块（执行接口）

• 将自然语言结论标准化为 JSON 指令（可被人类或脚本执行）。
• 维持字段一致性与版本控制，附带置信度与风控参数。

4. 执行与反馈模块（人类端）

• 机械化执行建模好的交易指令，记录成交。
• 回传真实成交与当日组合快照，作为学习输入。

5. 学习与回顾模块（优化层）

• 周/旬/月维度聚合绩效与偏差来源，生成复盘报告。
• 依据结果动态调整策略权重与风控阈值。

数据流与状态机

• P0 输入就绪 → 决策计算 → 指令发布 → 执行回传 → 复盘归档。
• 若“输入缺失”，进入无数据降级：仅发布低风险 ETF 结构化建议与紧急风控。
• 若“风险触发”，状态转入降仓/观望，直至触发回到常态条件。

策略逻辑栈（可扩展）

• 趋势突破：多周期均线/量能/结构确认，适配 ETF 与龙头。
• 情绪周期：冰点→修复→分歧→一致→退潮 的阶段映射到仓位与主题轮动。
• 估值与盈利：红利低波、盈利质量、现金分红因子做底仓。
• 事件驱动：产业催化与政策窗口期的权重加减。

技术与协作（文档层）

• 本阶段以文档与 JSON 接口为主；后续可增加脚本抓取与可视化。

十二、数据输入模板与字段规范

最小必需字段（盘后/盘前均可）：

```json
{
  "date": "2025-10-27",
  "index_close": { "sse": -0.6, "szse": -0.8, "cyb": -1.2 },
  "turnover_trillion": 0.82,
  "northbound_net_billion": -23.5,
  "limit_up": 45,
  "limit_down": 12,
  "themes_top": ["算力", "半导体"],
  "themes_weak": ["医药商业", "白酒"],
  "market_emotion": "修复",
  "events": ["券商研报上调AI产业链景气", "光模块龙头再创阶段新高"]
}
```

扩展可选字段：

• breadth：上涨家数、下跌家数、中位数涨幅。
• leaders：各强势主题的前2名代表个股与涨幅。
• vol_compare：与近5/10日成交额的同比变化（%）。
• risk_flags：地缘、汇率、美债、商品等外部扰动提示。

验收标准：字段齐全、语义清晰、能被直接引用生成指令。

十三、指令输出 JSON Schema 与示例

Schema（说明性，不强制为代码生成器）：

```json
{
  "ticker": "string",               
  "name": "string?",               
  "asset_type": "ETF|Stock",
  "action": "BUY|SELL|BUY_IF|ADJUST",
  "weight_pct_of_portfolio": 0,      
  "price_limit": { "buy_lte": 0.0, "sell_gte": 0.0 },
  "stop_loss": { "pct": 3.0, "abs_price": null },
  "take_profit_pcts": [3, 6],
  "condition": "string?",           
  "reason": "string",               
  "confidence": "A|B|C",            
  "ttl_days": 1                      
}
```

示例（组合级指令清单）：

```json
[
  {
    "ticker": "159925",
    "asset_type": "ETF",
    "action": "BUY",
    "weight_pct_of_portfolio": 15,
    "stop_loss": { "pct": 3.0 },
    "take_profit_pcts": [3, 6],
    "reason": "红利低波对冲波动",
    "confidence": "A",
    "ttl_days": 1
  },
  {
    "ticker": "510300",
    "asset_type": "ETF",
    "action": "BUY",
    "weight_pct_of_portfolio": 10,
    "stop_loss": { "pct": 3.0 },
    "take_profit_pcts": [3, 6],
    "reason": "宽基稳仓",
    "confidence": "B",
    "ttl_days": 1
  },
  {
    "ticker": "512480",
    "asset_type": "ETF",
    "action": "BUY_IF",
    "weight_pct_of_portfolio": 5,
    "condition": "半导体主题中位数涨幅≥1%且量能不回落",
    "stop_loss": { "pct": 3.0 },
    "take_profit_pcts": [3, 6],
    "reason": "科技主线试探位",
    "confidence": "B",
    "ttl_days": 1
  }
]
```

十四、成交反馈与复盘数据结构

成交反馈（执行端→ChatGPT）：

```json
{
  "order_id": "20251027-01",
  "ticker": "510300",
  "action": "BUY",
  "planned_weight_pct": 10,
  "executed_weight_pct": 10,
  "avg_price": 3.215,
  "slippage_bps": 8,
  "executed_at": "2025-10-27T10:12:00+08:00",
  "notes": "按指令成交"
}
```

组合快照（盘后）：

```json
{
  "date": "2025-10-27",
  "cash_pct": 70,
  "positions": [
    { "ticker": "159925", "weight_pct": 15, "cost": 3.12 },
    { "ticker": "510300", "weight_pct": 10, "cost": 3.21 },
    { "ticker": "512480", "weight_pct": 5,  "cost": 1.24 }
  ],
  "pnl_day_pct": 0.4,
  "pnl_mtd_pct": 1.2,
  "max_dd_mtd_pct": -1.1
}
```

复盘指标（周/月）：胜率、盈亏比、超额收益、回撤、换手率、主题轮动命中率、纪律执行偏差。

十五、日内执行 Runbook（人类可直接照做）

• 盘前（08:30-09:20）：整理“数据输入模板”→生成“实盘版指令 v1.0”。
• 开盘（09:30-10:00）：观测两市成交额同比、北向方向与跌停扩散；满足入场→先建仓红利与宽基。
• 上午（10:00-11:30）：若主线明确且延续，启用科技试探位；若转弱，保持防守结构。
• 午后（13:00-14:00）：仅在延续性成立时加仓至40%-50%。
• 尾盘（14:30-15:00）：不追涨；做风控与结构微调；整理成交反馈与组合快照。

十六、风控参数与仓位管理框架

组合级风险

• 最大单日回撤阈值：-1.5% 触发降仓至≤20%。
• 最大主题暴露：单一主题≤60%，单一标的≤30%。
• 流动性门槛：跟踪误差可控、日均成交额充足的 ETF 优先。

单标的风险

• ETF 止损：-3%（或失效条件触发即减半）。
• 个股（若启用试探）：-5% 止损，单票≤组合10%。

动态调仓规则

• 情绪阶段上升（修复→一致）与量能放大：分批+10% 直至 50%。
• 资金流转弱（北向大幅净流出、跌停扩散）：分批-10% 直至 20%。

十七、模拟/干跑流程与验收标准

干跑流程

1) 使用“数据输入模板”填写当日要素。
2) 生成“明日策略与指令清单 v1.0”。
3) 次日填入真实成交与盘后快照。
4) 周度自动汇总复盘指标并给出改进点。

验收标准

• 流程完整性：输入→策略→执行→反馈→复盘链路无缺口。
• 可执行性：人类执行端通过 JSON 指令即可完成操作。
• 风控有效性：阈值触发能自动产生降仓/止损建议。
• 复盘价值：能定位收益与亏损的主要来源并形成调整方案。

十八、版本管理与后续工作

• v0.1：文档化流程与接口（当前版本）。
• v0.2：加入数据抓取脚本与可视化（可选）。
• v0.3：引入多 Agent 职责拆分与自动化联动。